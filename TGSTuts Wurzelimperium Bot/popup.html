<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    body { font-family: 'Segoe UI', sans-serif; width: 350px; padding: 0; background: #f4f7f6; color: #333; margin: 0; }
    .header { background: white; padding: 15px; border-bottom: 1px solid #e0e0e0; text-align: center; }
    h2 { font-size: 18px; color: #2e7d32; margin: 0 0 10px 0; }
    .stats-bar { display: flex; justify-content: space-around; font-size: 12px; background: #e8f5e9; padding: 8px; border-radius: 5px; }
    .stats-bar span b { color: #1b5e20; }
    
    .tabs { display: flex; background: #eee; border-bottom: 1px solid #ccc; cursor: pointer; }
    .tab { flex: 1; padding: 10px 0; text-align: center; font-size: 11px; font-weight: bold; color: #666; transition: 0.3s; }
    .tab:hover { background: #e0e0e0; }
    .tab.active { background: white; color: #2e7d32; border-top: 3px solid #2e7d32; border-bottom: 1px solid white; margin-bottom: -1px; }
    
    .content { padding: 15px; display: none; min-height: 280px; }
    .content.active { display: block; }
    
    .btn { background: white; border: 1px solid #c8e6c9; padding: 10px; border-radius: 8px; cursor: pointer; font-weight: 600; width: 100%; margin-bottom: 8px; transition: 0.2s; }
    .btn:hover { background: #f1f8e9; border-color: #2e7d32; }
    
    select { width: 100%; padding: 8px; border-radius: 8px; border: 2px solid #ddd; margin-top: 5px; background: white; }
    
    /* FOOTER STYLE NEU */
    footer { 
        font-size: 11px; 
        text-align: center; 
        padding: 12px; 
        color: #666; 
        border-top: 1px solid #dcedc8; 
        background: #f1f8e9; /* Leichtes Gr√ºn */
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 15px; /* Abstand zwischen den Links */
    }
    footer a { 
        text-decoration: none; 
        font-weight: bold; 
        display: flex; 
        align-items: center;
        transition: 0.2s;
    }
    .link-yt { color: #d32f2f; }
    .link-bmc { color: #795548; }
    footer a:hover { transform: scale(1.05); opacity: 0.8; }
    
    .scroll-list { max-height: 220px; overflow-y: auto; border: 1px solid #eee; border-radius: 5px; background: white; margin-top: 10px; font-size: 11px; }
    .list-item { padding: 6px 10px; border-bottom: 1px solid #f0f0f0; display: flex; justify-content: space-between; align-items: center; }
    .list-item:nth-child(odd) { background: #fafafa; }
    
    .tag { padding: 2px 6px; border-radius: 4px; font-weight: bold; font-size: 10px; }
    .tag-good { background: #e8f5e9; color: #2e7d32; border: 1px solid #c8e6c9; }
    .tag-bad { background: #ffebee; color: #c62828; border: 1px solid #ffcdd2; }
    .tag-warn { background: #fff3e0; color: #ef6c00; border: 1px solid #ffe0b2; }

    .scan-overlay { display:none; position:absolute; top:60px; left:0; width:100%; text-align:center; background:rgba(255,255,255,0.9); padding:20px 0; border-top:1px solid red; border-bottom:1px solid red; color:red; font-weight:bold; z-index:10; }
    .disabled-area { opacity: 0.3; pointer-events: none; filter: grayscale(1); }
  </style>
</head>
<body>
  <div class="header">
    <h2>TGSTuts Gartenbot</h2>
    <div class="stats-bar">
      <span><b>Pkt:</b> <span id="pkt">-</span></span>
      <span><b>Lv:</b> <span id="lvl">-</span></span>
      <span><b>wT:</b> <span id="bar">-</span></span>
    </div>
  </div>

  <div class="tabs">
    <div class="tab active" data-target="tab-garten">Garten</div>
    <div class="tab" data-target="tab-markt">Markt</div>
    <div class="tab" data-target="tab-banker">Banker</div>
    <div class="tab" data-target="tab-wimps">Wimps</div>
  </div>

  <div id="tab-garten" class="content active">
    <button class="btn" id="btnErnten">Alles Ernten</button>
    <button class="btn" id="btnGiessen">Alles Gie√üen</button>
    <div style="margin-top: 15px; border-top: 1px solid #eee; padding-top: 15px;">
        <label style="font-size: 12px; font-weight: bold;">S√§en aus Regal:</label>
        <select id="selSlot"><option>Warte auf Daten...</option></select>
        <button class="btn" style="background:#2e7d32; color:white; margin-top:10px;" id="btnSaen">S√§en starten</button>
    </div>
  </div>

  <div id="tab-markt" class="content">
    <div style="text-align:center; margin-bottom:10px;">
        <button class="btn" id="btnDeepScan" style="background:#e3f2fd; border-color:#2196f3; color:#0d47a1;">üöÄ Komplett-Scan starten</button>
        <div id="marketStatus" style="font-size:11px; margin-top:5px; color:#2e7d32; font-weight:bold;"></div>
        <div style="width:100%; background:#eee; height:5px; margin-top:5px; border-radius:3px; overflow:hidden;">
            <div id="scanProgress" style="width:0%; background:#2196f3; height:100%; transition:width 0.2s;"></div>
        </div>
    </div>
    <div id="marketList" class="scroll-list">
        <div style="padding:10px; text-align:center; color:#999;">Bitte erst scannen!</div>
    </div>
  </div>

  <div id="tab-banker" class="content needs-scan">
    <div class="scan-overlay">‚ö†Ô∏è Bitte erst Markt scannen!</div>
    <div class="scan-content">
        <div style="background:#fff3e0; padding:5px; border-radius:5px; margin-bottom:10px; border:1px solid #ffe0b2; text-align:center;">
            <div style="font-size:10px; font-weight:bold; color:#ef6c00;">Schritt 1: Zeiten lernen</div>
            <button class="btn" id="btnScanRegalTimes" style="background:#fff8e1; margin-top:5px; border-color:#ffecb3;">‚è±Ô∏è Regal-Zeiten einlesen</button>
            <div id="regalStatus" style="font-size:10px; color:#2e7d32; height:15px;"></div>
        </div>
        <div style="font-size:10px; font-weight:bold; color:#2e7d32; text-align:center;">Schritt 2: Berechnen</div>
        <button class="btn" id="btnCalcBanker">üìà Rentabilit√§t berechnen</button>
        <div id="bankerList" class="scroll-list"></div>
    </div>
  </div>

  <div id="tab-wimps" class="content needs-scan">
    <div class="scan-overlay">‚ö†Ô∏è Bitte erst Markt scannen!</div>
    <div class="scan-content">
        <button class="btn" id="btnWimpCheck">üîç Angebote analysieren</button>
        <button class="btn" style="background:#d32f2f; color:white; margin-top:10px;" id="btnWimpSell">üí∞ Profitable verkaufen</button>
        <div id="wimpResults" class="scroll-list" style="display:none;"></div>
    </div>
  </div>

  <footer>
      <a href="https://youtube.com/@TGSTuts" target="_blank" class="link-yt">
        üì∫ TGSTuts bei YouTube
      </a>
      <a href="https://buymeacoffee.com/tgstuts" target="_blank" class="link-bmc">
        ‚òï Mich unterst√ºtzen
      </a>
  </footer>
  <script src="popup.js"></script>
</body>
</html>